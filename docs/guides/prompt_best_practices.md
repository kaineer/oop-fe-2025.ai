# Лучшие практики формирования промптов для учебных материалов

## Обзор

Данный документ описывает накопленный опыт и лучшие практики по созданию эффективных промптов для генерации учебных материалов на основе метаданных уроков.

## Основные принципы

### 1. Соответствие типу урока
- **Теоретические уроки (theory)**: Используются роли `lesson_guide`, `full_notes`, `detailed_plan`
- **Практические уроки (practice)**: Используются роли `task_description`, `project_steps`, `detailed_plan`

### 2. Точность описания шагов
- Включать только те шаги, которые явно описаны в `meta.yaml`
- Не добавлять гипотетические или предполагаемые шаги
- Использовать заглушки для будущих этапов: "... здесь требуется дописать следующий шаг"

### 3. Структура промпта

#### Общий контекст урока
```markdown
- **Номер урока:** [номер]
- **Тема:** "[название]"
- **Продолжительность:** [время] минут
- **Тип:** "theory" | "practice"
- **Проект:** "[название проекта]" - [описание проекта] (для практических уроков)
- **Ключевые концепции:** [список концепций]
- **Цели обучения:** [список целей]
- **Ожидаемые результаты:** [список из meta.yaml]
```

#### Практические упражнения/Этапы проекта
- Только этапы, описанные в `meta.yaml`
- Нумерованный список с конкретными действиями

#### Спецификации для ролей
Для каждой роли указывать:
- **Аудитория:** Кто будет использовать документ
- **Цель:** Для чего предназначен документ
- **Тон:** Стиль изложения
- **Структура документа:** Основные разделы
- **Требования к содержанию:** Что должно быть включено

### 4. Формат ссылок на ресурсы
- Использовать стандартный формат: `filename@fragment-name`
- В исходном коде использовать комментарии:
  - `// REF: fragment-name` для однострочных ссылок
  - `// ENDREF` после последней строки для многострочных
- При вставке кода в документы удалять комментарии REF и ENDREF

## Лучшие практики

### Для теоретических уроков
1. **Использование альтернативных решений** - показывать разные подходы к решению задач
2. **Учет контекста** - приводить практические примеры и типичные ошибки
3. **Интеграция интересных фактов** - использовать fun_facts для вовлечения студентов

### Для практических уроков
1. **Четкие инструкции** - пошаговые инструкции с ожидаемыми результатами
2. **Практическая ориентация** - сосредоточиться на создании работающего прототипа
3. **Контрольные точки** - определять промежуточные этапы для проверки прогресса
4. **Точность описания** - включать только описанные в метаданных шаги

### Форматирование кода
- Использовать подход, соответствующий уровню студентов
- Для начинающих предпочитать возврат HTML строк вместо сложных DOM манипуляций
- Включать конкретные примеры с комментариями
- Обеспечивать читаемость и структурированность

## Распространенные проблемы и решения

### Проблема: Дублирование тегов в HTML
**Решение:** Проверять корректность структуры HTML, избегать автоматического дублирования тегов

### Проблема: Неправильные пути импорта
**Решение:** 
- Для тестовых файлов размещать их в той же папке, что и модули
- Использовать относительные пути относительно расположения файла
- Тестировать пути импорта перед использованием

### Проблема: Глобальные функции в модульных скриптах
**Решение:** Использовать `addEventListener` вместо `onclick` для вызова функций из модулей

### Проблема: Избыточное описание
**Решение:** Следовать принципу "включать только описанные шаги", использовать заглушки для будущего развития

## Примеры успешных практик

### Эффективное использование ожидаемых результатов
```markdown
**Ожидаемые результаты:**
1. Проект создается и отображается в браузере
2. Создаются объекты для поддержки списка используемых слов  
3. Список используемых слов отрисовывается на странице
```

### Корректное связывание шагов с результатами
В `project_steps.md` для каждого шага указывать:
```markdown
### Ожидаемые результаты шага:
- [описание результатов]
- **Достигнут ожидаемый результат:** [конкретный результат из meta.yaml]
```

### Адаптация для разных уровней студентов
- **Для быстрых студентов:** дополнительные задачи и эксперименты
- **Для требующих больше времени:** упрощенные версии и готовые шаблоны

## Рекомендации по валидации

1. **Проверять соответствие meta.yaml** - все документы должны точно отражать метаданные
2. **Тестировать функциональность** - создавать простые тестовые файлы для проверки работы
3. **Проверять пути и импорты** - убеждаться, что все ссылки корректны
4. **Оценивать читаемость** - код должен быть понятен целевой аудитории

## Заключение

Следование этим лучшим практикам обеспечивает создание качественных, структурированных учебных материалов, которые точно соответствуют планированию преподавателя и эффективно достигают образовательных целей.

Ключевой принцип: **Точность и соответствие метаданным важнее предположений о том, что "должно быть" в уроке.**